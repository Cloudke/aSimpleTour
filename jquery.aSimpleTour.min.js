(function(f){var d={data:[],autoStart:false,controlsPosition:"TR",welcomeMessage:"<h2>Tour</h2><p>Welcome to the Tour Plugin</p>",controlsColors:{background:"rgba(8, 68, 142, 0.80)",color:"#fff"},tooltipColors:{background:"rgba(0, 0, 0, 0.70)",color:"#fff"}};var l,b,j;var i,e,a,k;var h=false;var g=f("<div>",{id:"tourtip",className:"tourtip",html:""}).css({display:"none",padding:"10px 20px",position:"absolute","font-family":"sans-serif","border-radius":"5px","font-size":"12px","box-sizing":"border-box"});var c={init:function(m){if(h==false){h=true;l=f.extend(d,m);controls='<div id="tourControls">          <div id="tourText">'+l.welcomeMessage+'</div>          <div id="tourButtons">            <button id="tourPrev" style="display:none">Previous</button>            <button id="tourNext">Start</button>            <button id="tourEnd" style="display:none">End tour</button>          </div>        </div>';$controlsCss={display:"block",position:"fixed",width:"200px",padding:"10px 20px","border-radius":"10px","font-family":"sans-serif"};$controls=f(controls).css($controlsCss).css(l.controlsColors);$cpos=c.getControlPosition(l.controlsPosition);$controls.css($cpos);f("body").append($controls);g.css(l.tooltipColors);b=-1;j=l.data.length;f("body").prepend(g)}},next:function(){b++;if(b==j){c.destroy()}else{g.hide();stepData=l.data[b];if(b<=j){f("#tourPrev").show();f("#tourEnd").show();f("#tourNext").show().html("Next")}c.setTooltip(stepData)}},prev:function(){g.hide();if(b<j){f("#tourNext").show().html("Next")}if(b<=0){f("#tourPrev").hide();f("#tourEnd").hide();f("#tourNext").html("Start");b--}else{b--;stepData=l.data[b];c.setTooltip(stepData)}},setTooltip:function(m){$element=f(m.element);if(typeof m.callback!="undefined"){if(m.callback=="click"){if($element.attr("href")!=""){location.href=$element.attr("href")}else{$element.click()}}}else{if(m.controlsPosition){c.setControlsPosition(m.controlsPosition)}g.html(m.tooltip);if(m.text){f("#tourText").html(m.text)}tooltipPos=(typeof m.position=="undefined")?"BL":m.position;$pos=c.getTooltipPosition(tooltipPos,$element);g.css({top:$pos.top+"px",left:$pos.left+"px"});g.show("fast");f.scrollTo(g,200,{offset:-100})}},setControlsPosition:function(m){chtml=$controls.html();$controls.remove();$controls=f(controls).html(chtml);$controls=$controls.css($controlsCss).css(l.controlsColors);position=c.getControlPosition(m);$controls.css(position);f("body").append($controls)},getTooltipPosition:function(n,m){i=$element.outerWidth();e=$element.outerHeight();a=$element.offset().left;k=$element.offset().top;tw=g.width()+parseInt(g.css("padding-left"))+parseInt(g.css("padding-right"));th=g.height()+parseInt(g.css("padding-top"))+ +parseInt(g.css("padding-bottom"));f(".tourArrow").remove();tbg=g.css("background-color");$upArrow=f('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-left":"5px solid transparent","border-right":"5px solid transparent","border-bottom":"5px solid "+tbg});$downArrow=f('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-left":"5px solid transparent","border-right":"5px solid transparent","border-top":"5px solid "+tbg});$rightArrow=f('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-top":"5px solid transparent","border-bottom":"5px solid transparent","border-left":"5px solid "+tbg});$leftArrow=f('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-top":"5px solid transparent","border-bottom":"5px solid transparent","border-right":"5px solid "+tbg});switch(n){case"BL":position={left:a,top:k+e+10};$upArrow.css({top:"-5px",left:"48%"});g.prepend($upArrow);break;case"BR":position={left:a+i-tw,top:k+e+10};$upArrow.css({top:"-5px",left:"48%"});g.prepend($upArrow);break;case"TL":position={left:a,top:(k-th)-10};$downArrow.css({top:th,left:"48%"});g.append($downArrow);break;case"TR":position={left:(a+i)-tw,top:k-th-10};$downArrow.css({top:th,left:"48%"});g.append($downArrow);break;case"RT":position={left:a+i+10,top:k};$leftArrow.css({left:"-5px"});g.prepend($leftArrow);break;case"RB":position={left:a+i+10,top:k+e-th};$leftArrow.css({left:"-5px"});g.prepend($leftArrow);break;case"LT":position={left:(a-tw)-10,top:k};$rightArrow.css({right:"-5px"});g.prepend($rightArrow);break;case"LB":position={left:(a-tw)-10,top:k+e-th};$rightArrow.css({right:"-5px"});g.prepend($rightArrow);break;case"B":position={left:a+i/2-tw/2,top:(k+e)+10};$upArrow.css({top:"-5px",left:"48%"});g.prepend($upArrow);break;case"L":position={left:(a-tw)-10,top:k+e/2-th/2};$rightArrow.css({right:"-5px"});g.prepend($rightArrow);break;case"T":position={left:a+i/2-tw/2,top:(k-th)-10};$downArrow.css({top:th,left:"48%"});g.append($downArrow);break;case"R":position={left:(a+i)+10,top:k+e/2-th/2};$leftArrow.css({left:"-5px"});g.prepend($leftArrow);break}return position},getControlPosition:function(m){switch(m){case"TR":m={top:"10px",right:"10px"};break;case"TL":m={top:"10px",left:"10px"};break;case"BL":m={bottom:"10px",left:"10px"};break;case"BR":m={bottom:"10px",right:"10px"};break}return m},destroy:function(){f("#tourControls").remove();f("#tourtip").remove();g.css({display:"none"}).html("");b=-1;h=false}};f("#tourNext").live("click",function(){c.next()});f("#tourPrev").live("click",function(){c.prev()});f("#tourEnd").live("click",function(){c.destroy()});f.fn.aSimpleTour=function(m){if(c[m]){return c[m].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof m==="object"||!m){return c.init.apply(this,arguments)}else{f.error("Method "+m+" does not exist on jQuery.aSimpleTour")}}}})(jQuery);$.aSimpleTour=function(a){$.fn.aSimpleTour(a)};